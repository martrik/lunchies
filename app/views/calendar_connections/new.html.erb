<div class="mx-auto md:w-2/3 w-full">
  <% if alert = flash[:alert] %>
    <div class="alert alert-error mb-5" role="alert">
      <span><%= alert %></span>
    </div>
  <% end %>

  <% if notice = flash[:notice] %>
    <div class="alert alert-success mb-5" role="alert">
      <span><%= notice %></span>
    </div>
  <% end %>

  <h1 class="font-bold text-4xl mb-6">Connect Google Calendar</h1>

  <% if @calendar_connection %>
    <p>Your Google Calendar is connected as <strong><%= @calendar_connection.google_email %></strong></p>
    <div class="card-actions justify-end mt-4">
        <%= link_to "View Events", events_calendar_connection_path, class: "btn btn-primary" %>
        <%= link_to "Reconnect", calendar_connection_path, method: :delete, class: "btn btn-outline", data: { turbo_method: :delete, turbo_confirm: "Are you sure you want to disconnect your calendar?" } %>
    </div>
  <% else %>
    <p>Connect your Google Calendar to view and select recurring events for your team lunches.</p>
    <div class="card-actions justify-first mt-4">
    <%= button_to "Connect Google Calendar", calendar_connection_path, method: :post, class: "btn btn-primary", data: { turbo: false } %>
    </div>
  <% end %>
</div>
